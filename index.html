<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åå°é¦–é¡µ - æ•°æ®æ¦‚è§ˆ</title>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: #f5f7fa;
            color: #333;
            padding: 24px;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        h1 {
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 24px;
            color: #1a1a1a;
        }
        .section-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 16px;
            color: #1a1a1a;
        }
        /* ç¬¬ä¸€æ ï¼šç»Ÿè®¡å¡ç‰‡ */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 16px;
            margin-bottom: 24px;
        }
        .stat-card {
            background: #fff;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.08);
        }
        .stat-card .label {
            font-size: 14px;
            color: #666;
            margin-bottom: 8px;
        }
        .stat-card .value {
            font-size: 28px;
            font-weight: 700;
            color: #1a1a1a;
        }
        .stat-card .sub-value {
            font-size: 13px;
            color: #999;
            margin-top: 4px;
        }
        .stat-card.highlight .value {
            color: #4f6ef7;
        }
        /* ç¬¬äºŒæ ï¼šç¯å½¢å›¾ + è¡¨æ ¼ */
        .row {
            display: flex;
            gap: 24px;
            margin-bottom: 24px;
        }
        .card {
            background: #fff;
            border-radius: 12px;
            padding: 24px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.08);
        }
        .card-half {
            flex: 1;
        }
        .card-title {
            font-size: 16px;
            font-weight: 600;
            color: #1a1a1a;
            margin-bottom: 20px;
        }
        .chart-container {
            width: 100%;
            height: 300px;
        }
        /* è¡¨æ ¼æ ·å¼ */
        .data-table {
            width: 100%;
            border-collapse: collapse;
        }
        .data-table th {
            text-align: left;
            padding: 12px 8px;
            font-size: 13px;
            color: #999;
            font-weight: 500;
            border-bottom: 1px solid #eee;
        }
        .data-table td {
            padding: 16px 8px;
            font-size: 14px;
            border-bottom: 1px solid #f5f5f5;
        }
        .data-table .product-name {
            font-weight: 600;
            color: #1a1a1a;
        }
        .data-table .amount {
            font-weight: 500;
        }
        .data-table .trend-up {
            color: #22c55e;
            font-weight: 600;
        }
        .data-table .trend-down {
            color: #ef4444;
            font-weight: 600;
        }
        /* ç¬¬ä¸‰æ ï¼šè¶‹åŠ¿å›¾è¡¨ */
        .chart-row {
            display: flex;
            gap: 24px;
        }
        .chart-card {
            flex: 1;
            background: #fff;
            border-radius: 12px;
            padding: 24px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.08);
        }
        .chart-lg {
            height: 350px;
        }
        /* Tabæ ·å¼ */
        .tab-bar {
            display: flex;
            gap: 0;
            margin-bottom: 16px;
        }
        .tab-btn {
            padding: 8px 20px;
            background: #f5f5f5;
            border: 1px solid #ddd;
            cursor: pointer;
            font-size: 13px;
            transition: all 0.2s;
        }
        .tab-btn:first-child { border-radius: 6px 0 0 6px; }
        .tab-btn:last-child { border-radius: 0 6px 6px 0; }
        .tab-btn:not(:first-child) { border-left: none; }
        .tab-btn:hover { background: #e8e8e8; }
        .tab-btn.active { background: #4f6ef7; color: #fff; border-color: #4f6ef7; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ“Š æ•°æ®æ¦‚è§ˆ</h1>

        <!-- ç¬¬ä¸€æ ï¼šç»Ÿè®¡å¡ç‰‡ -->
        <div class="stats-grid" id="statsGrid">
            <!-- ç”±JSåŠ¨æ€ç”Ÿæˆ -->
        </div>

        <!-- ç¬¬äºŒæ ï¼šç†è´¢åŒ…å›¾è¡¨ -->
        <div class="section-title" style="margin-top:8px;">ğŸ“¦ ç†è´¢åŒ…æ•°æ®åˆ†æ</div>

        <!-- å›¾è¡¨1ï¼šäººæ•°å¯¹æ¯” -->
        <div class="card" style="margin-bottom:24px;">
            <div class="card-title">äººæ•°è¶‹åŠ¿å¯¹æ¯”</div>
            <div class="chart-lg" id="peopleChart"></div>
        </div>

        <!-- å›¾è¡¨2ï¼šé‡‘é¢è¶‹åŠ¿ -->
        <div class="card" style="margin-bottom:24px;">
            <div class="card-title">é‡‘é¢è¶‹åŠ¿</div>
            <div class="tab-bar" id="amountTabs">
                <div class="tab-btn active" data-type="accumulated">ç´¯è®¡å‚ä¸</div>
                <div class="tab-btn" data-type="current">å½“å‰å‚ä¸</div>
                <div class="tab-btn" data-type="profit">ç´¯è®¡æ”¶ç›Š</div>
                <div class="tab-btn" data-type="redeemed">å·²èµå›</div>
            </div>
            <div class="chart-lg" id="amountChart"></div>
        </div>

        <!-- å›¾è¡¨3ï¼šåŒYè½´ - äººæ•°ä¸å…¥é‡‘ -->
        <div class="card" style="margin-bottom:24px;">
            <div class="card-title">æ–°å¢äººæ•° vs æ–°å¢å…¥é‡‘ï¼ˆæ–¹æ¡ˆ Aï¼šåŒYè½´å¯¹æ¯”ï¼‰</div>
            <div class="chart-lg" id="dualAxisChart"></div>
        </div>

        <!-- å›¾è¡¨4ï¼šå•Yè½´ - Tabåˆ‡æ¢ç†è´¢åŒ… -->
        <div class="card">
            <div class="card-title">æ–°å¢äººæ•° vs æ–°å¢å…¥é‡‘ï¼ˆæ–¹æ¡ˆ Bï¼šå•Yè½´ - æŒ‰ç†è´¢åŒ…æŸ¥çœ‹ï¼Œé‡‘é¢å•ä½ï¼šåƒå…ƒï¼‰</div>
            <div class="tab-bar" id="singleAxisTabs">
                <div class="tab-btn active" data-idx="0">ç†è´¢åŒ…A</div>
                <div class="tab-btn" data-idx="1">ç†è´¢åŒ…B</div>
                <div class="tab-btn" data-idx="2">ç†è´¢åŒ…C</div>
                <div class="tab-btn" data-idx="3">ç†è´¢åŒ…D</div>
            </div>
            <div class="chart-lg" id="singleAxisChart"></div>
        </div>
    </div>

    <script>
        // ==================== æ¨¡æ‹Ÿæ•°æ® ====================

        // ç¬¬ä¸€æ ï¼šç»Ÿè®¡å¡ç‰‡æ•°æ®
        const statsData = [
            { label: 'ä»Šæ—¥æ³¨å†Œäººæ•°', value: 1286, highlight: true },
            { label: 'ç´¯è®¡æ³¨å†Œäººæ•°', value: 158432 },
            { label: 'ä»Šæ—¥æ–°å¢å……å€¼', value: 89520, highlight: true },
            { label: 'ç´¯è®¡å……å€¼äººæ•°', value: 42156 },
            { label: 'ä»Šæ—¥æ–°å¢æå¸', value: 23450 },
            { label: 'ç´¯è®¡æå¸äººæ•°', value: 18923 },
            { label: 'ä»Šæ—¥å®åäººæ•°', value: 892, highlight: true },
            { label: 'ç´¯è®¡å®åäººæ•°', value: 134521 }
        ];

        // æ—¶é—´è½´æ•°æ®ï¼ˆæœ€è¿‘7å¤©ï¼‰
        const days = ['11-24', '11-25', '11-26', '11-27', '11-28', '11-29', '11-30'];
        const products = ['ç†è´¢åŒ…A', 'ç†è´¢åŒ…B', 'ç†è´¢åŒ…C', 'ç†è´¢åŒ…D'];
        const colors = ['#4f6ef7', '#22c55e', '#f59e0b', '#8b5cf6'];

        // 4ä¸ªç†è´¢åŒ…çš„äººæ•°æ•°æ®
        const peopleData = {
            newUsers: [
                [856, 923, 1045, 987, 1123, 1198, 1286],   // ç†è´¢åŒ…A
                [623, 678, 712, 689, 756, 801, 834],       // ç†è´¢åŒ…B
                [412, 445, 467, 423, 489, 512, 534],       // ç†è´¢åŒ…C
                [234, 267, 289, 256, 312, 334, 356]        // ç†è´¢åŒ…D
            ],
            buyUsers: [
                [234, 267, 312, 289, 345, 378, 412],       // ç†è´¢åŒ…A
                [178, 195, 223, 201, 245, 267, 289],       // ç†è´¢åŒ…B
                [123, 134, 156, 142, 167, 178, 189],       // ç†è´¢åŒ…C
                [78, 89, 98, 87, 112, 123, 134]            // ç†è´¢åŒ…D
            ]
        };

        // 4ä¸ªç†è´¢åŒ…çš„å…¥é‡‘æ•°æ®ï¼ˆæ¯æ—¥ï¼Œåƒå…ƒï¼‰
        const depositData = [
            [125, 142, 158, 136, 167, 182, 195],   // ç†è´¢åŒ…A
            [82, 91, 103, 88, 112, 124, 131],      // ç†è´¢åŒ…B
            [56, 62, 71, 59, 78, 85, 92],          // ç†è´¢åŒ…C
            [32, 38, 42, 35, 46, 51, 58]           // ç†è´¢åŒ…D
        ];

        // é‡‘é¢è¶‹åŠ¿æ•°æ®ï¼ˆ4ä¸ªç†è´¢åŒ… Ã— 4ä¸ªæŒ‡æ ‡ Ã— 7å¤©ï¼Œå•ä½ï¼šåƒå…ƒï¼‰
        const amountTrend = {
            // ç´¯è®¡å‚ä¸é‡‘é¢
            accumulated: [
                [3980, 4120, 4250, 4380, 4450, 4520, 4680],   // ç†è´¢åŒ…A
                [2560, 2640, 2710, 2780, 2830, 2890, 2980],   // ç†è´¢åŒ…B
                [1380, 1420, 1470, 1510, 1540, 1560, 1620],   // ç†è´¢åŒ…C
                [860, 890, 920, 950, 970, 980, 1020]          // ç†è´¢åŒ…D
            ],
            // å½“å‰å‚ä¸é‡‘é¢
            current: [
                [2850, 2920, 3010, 3080, 3120, 3180, 3250],   // ç†è´¢åŒ…A
                [1720, 1780, 1830, 1880, 1900, 1920, 1980],   // ç†è´¢åŒ…B
                [1080, 1120, 1180, 1210, 1230, 1250, 1290],   // ç†è´¢åŒ…C
                [620, 650, 680, 700, 710, 720, 750]           // ç†è´¢åŒ…D
            ],
            // ç´¯è®¡æ”¶ç›Šé‡‘é¢
            profit: [
                [380, 400, 410, 430, 440, 450, 470],          // ç†è´¢åŒ…A
                [190, 200, 210, 220, 220, 230, 240],          // ç†è´¢åŒ…B
                [60, 65, 70, 72, 75, 78, 82],                 // ç†è´¢åŒ…C
                [120, 130, 140, 145, 150, 156, 162]           // ç†è´¢åŒ…D
            ],
            // å·²èµå›é‡‘é¢
            redeemed: [
                [1130, 1200, 1240, 1300, 1330, 1340, 1430],   // ç†è´¢åŒ…A
                [840, 860, 880, 900, 930, 970, 1000],         // ç†è´¢åŒ…B
                [300, 300, 290, 300, 310, 310, 330],          // ç†è´¢åŒ…C
                [240, 240, 240, 250, 260, 260, 270]           // ç†è´¢åŒ…D
            ]
        };

        // ==================== æ¸²æŸ“å‡½æ•° ====================

        // æ¸²æŸ“ç»Ÿè®¡å¡ç‰‡
        function renderStats() {
            const grid = document.getElementById('statsGrid');
            grid.innerHTML = statsData.map(item => `
                <div class="stat-card ${item.highlight ? 'highlight' : ''}">
                    <div class="label">${item.label}</div>
                    <div class="value">${item.value.toLocaleString()}</div>
                </div>
            `).join('');
        }

        // å›¾è¡¨1ï¼šäººæ•°è¶‹åŠ¿å¯¹æ¯”ï¼ˆ4ä¸ªç†è´¢åŒ… Ã— æ–°å¢+è´­ä¹°ï¼‰
        function renderPeopleChart() {
            const chart = echarts.init(document.getElementById('peopleChart'));
            const option = {
                tooltip: { trigger: 'axis' },
                legend: {
                    data: products.flatMap(p => [p + '-æ–°å¢', p + '-è´­ä¹°']),
                    top: 0,
                    textStyle: { fontSize: 11 }
                },
                grid: { left: '3%', right: '4%', bottom: '3%', top: 50, containLabel: true },
                xAxis: {
                    type: 'category',
                    data: days,
                    axisLine: { lineStyle: { color: '#ddd' } },
                    axisLabel: { color: '#666' }
                },
                yAxis: {
                    type: 'value',
                    name: 'äººæ•°',
                    splitLine: { lineStyle: { color: '#f0f0f0' } }
                },
                series: [
                    ...products.map((p, i) => ({
                        name: p + '-æ–°å¢',
                        type: 'line',
                        smooth: true,
                        symbol: 'circle',
                        symbolSize: 6,
                        lineStyle: { width: 2, color: colors[i] },
                        itemStyle: { color: colors[i] },
                        data: peopleData.newUsers[i]
                    })),
                    ...products.map((p, i) => ({
                        name: p + '-è´­ä¹°',
                        type: 'line',
                        smooth: true,
                        symbol: 'diamond',
                        symbolSize: 6,
                        lineStyle: { width: 2, type: 'dashed', color: colors[i] },
                        itemStyle: { color: colors[i] },
                        data: peopleData.buyUsers[i]
                    }))
                ]
            };
            chart.setOption(option);
            return chart;
        }

        // å›¾è¡¨2ï¼šé‡‘é¢è¶‹åŠ¿ï¼ˆ4ä¸ªç†è´¢åŒ…ï¼ŒTabåˆ‡æ¢æŒ‡æ ‡ï¼‰
        function renderAmountChart() {
            const chart = echarts.init(document.getElementById('amountChart'));
            const titles = {
                accumulated: 'ç´¯è®¡å‚ä¸é‡‘é¢è¶‹åŠ¿',
                current: 'å½“å‰å‚ä¸é‡‘é¢è¶‹åŠ¿',
                profit: 'ç´¯è®¡æ”¶ç›Šé‡‘é¢è¶‹åŠ¿',
                redeemed: 'å·²èµå›é‡‘é¢è¶‹åŠ¿'
            };

            const updateChart = (type) => {
                const data = amountTrend[type];
                chart.setOption({
                    tooltip: {
                        trigger: 'axis',
                        formatter: params => params.map(p => `${p.marker} ${p.seriesName}: ${p.value}åƒå…ƒ`).join('<br/>')
                    },
                    legend: { data: products, top: 0 },
                    grid: { left: '3%', right: '4%', bottom: '3%', top: 40, containLabel: true },
                    xAxis: {
                        type: 'category',
                        data: days,
                        axisLine: { lineStyle: { color: '#ddd' } },
                        axisLabel: { color: '#666' }
                    },
                    yAxis: {
                        type: 'value',
                        name: 'é‡‘é¢(åƒå…ƒ)',
                        splitLine: { lineStyle: { color: '#f0f0f0' } }
                    },
                    series: products.map((p, i) => ({
                        name: p,
                        type: 'line',
                        smooth: true,
                        symbol: 'circle',
                        symbolSize: 6,
                        lineStyle: { width: 2, color: colors[i] },
                        itemStyle: { color: colors[i] },
                        areaStyle: { opacity: 0.1 },
                        data: data[i]
                    }))
                });
            };

            // åˆå§‹æ˜¾ç¤ºç´¯è®¡å‚ä¸
            updateChart('accumulated');

            // Tabåˆ‡æ¢äº‹ä»¶
            document.getElementById('amountTabs').addEventListener('click', e => {
                if (e.target.classList.contains('tab-btn')) {
                    document.querySelectorAll('#amountTabs .tab-btn').forEach(b => b.classList.remove('active'));
                    e.target.classList.add('active');
                    updateChart(e.target.dataset.type);
                }
            });

            return chart;
        }

        // å›¾è¡¨3ï¼šåŒYè½´ - æ–°å¢äººæ•° vs æ–°å¢å…¥é‡‘
        function renderDualAxisChart() {
            const chart = echarts.init(document.getElementById('dualAxisChart'));
            const option = {
                tooltip: {
                    trigger: 'axis',
                    axisPointer: { type: 'cross' },
                    formatter: params => {
                        let result = params[0].axisValue + '<br/>';
                        params.forEach(p => {
                            const unit = p.seriesName.includes('å…¥é‡‘') ? 'åƒå…ƒ' : 'äºº';
                            result += `${p.marker} ${p.seriesName}: ${p.value}${unit}<br/>`;
                        });
                        return result;
                    }
                },
                legend: {
                    data: products.flatMap(p => [p + '-æ–°å¢äººæ•°', p + '-æ–°å¢å…¥é‡‘(åƒå…ƒ)']),
                    top: 0,
                    textStyle: { fontSize: 11 }
                },
                grid: { left: '3%', right: '5%', bottom: '3%', top: 55, containLabel: true },
                xAxis: {
                    type: 'category',
                    data: days,
                    axisLine: { lineStyle: { color: '#ddd' } },
                    axisLabel: { color: '#666' }
                },
                yAxis: [
                    {
                        type: 'value',
                        name: 'äººæ•°',
                        position: 'left',
                        axisLine: { show: true, lineStyle: { color: '#4f6ef7' } },
                        axisLabel: { color: '#666' },
                        splitLine: { lineStyle: { color: '#f0f0f0' } }
                    },
                    {
                        type: 'value',
                        name: 'å…¥é‡‘(åƒå…ƒ)',
                        position: 'right',
                        axisLine: { show: true, lineStyle: { color: '#22c55e' } },
                        axisLabel: { color: '#666' },
                        splitLine: { show: false }
                    }
                ],
                series: [
                    ...products.map((p, i) => ({
                        name: p + '-æ–°å¢äººæ•°',
                        type: 'line',
                        yAxisIndex: 0,
                        smooth: true,
                        symbol: 'circle',
                        symbolSize: 6,
                        lineStyle: { width: 2, color: colors[i] },
                        itemStyle: { color: colors[i] },
                        data: peopleData.newUsers[i]
                    })),
                    ...products.map((p, i) => ({
                        name: p + '-æ–°å¢å…¥é‡‘(åƒå…ƒ)',
                        type: 'bar',
                        yAxisIndex: 1,
                        barWidth: '6%',
                        itemStyle: { color: colors[i], opacity: 0.6 },
                        data: depositData[i]
                    }))
                ]
            };
            chart.setOption(option);
            return chart;
        }

        // å›¾è¡¨4ï¼šå•Yè½´ - Tabåˆ‡æ¢ç†è´¢åŒ…ï¼ˆæ–°å¢äººæ•° + æ–°å¢å…¥é‡‘åƒå…ƒï¼‰
        function renderSingleAxisChart() {
            const chart = echarts.init(document.getElementById('singleAxisChart'));

            const updateChart = (idx) => {
                chart.setOption({
                    tooltip: {
                        trigger: 'axis',
                        formatter: params => {
                            let result = params[0].axisValue + '<br/>';
                            params.forEach(p => {
                                const unit = p.seriesName.includes('å…¥é‡‘') ? 'åƒå…ƒ' : 'äºº';
                                result += `${p.marker} ${p.seriesName}: ${p.value}${unit}<br/>`;
                            });
                            return result;
                        }
                    },
                    legend: { data: ['æ–°å¢äººæ•°', 'æ–°å¢å…¥é‡‘(åƒå…ƒ)'], top: 0 },
                    grid: { left: '3%', right: '4%', bottom: '3%', top: 45, containLabel: true },
                    xAxis: {
                        type: 'category',
                        data: days,
                        axisLine: { lineStyle: { color: '#ddd' } },
                        axisLabel: { color: '#666' }
                    },
                    yAxis: {
                        type: 'value',
                        splitLine: { lineStyle: { color: '#f0f0f0' } }
                    },
                    series: [
                        {
                            name: 'æ–°å¢äººæ•°',
                            type: 'line',
                            smooth: true,
                            symbol: 'circle',
                            symbolSize: 8,
                            lineStyle: { width: 3, color: '#4f6ef7' },
                            itemStyle: { color: '#4f6ef7' },
                            areaStyle: {
                                color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                                    { offset: 0, color: 'rgba(79,110,247,0.3)' },
                                    { offset: 1, color: 'rgba(79,110,247,0.05)' }
                                ])
                            },
                            data: peopleData.newUsers[idx]
                        },
                        {
                            name: 'æ–°å¢å…¥é‡‘(åƒå…ƒ)',
                            type: 'line',
                            smooth: true,
                            symbol: 'circle',
                            symbolSize: 8,
                            lineStyle: { width: 3, color: '#22c55e' },
                            itemStyle: { color: '#22c55e' },
                            areaStyle: {
                                color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                                    { offset: 0, color: 'rgba(34,197,94,0.3)' },
                                    { offset: 1, color: 'rgba(34,197,94,0.05)' }
                                ])
                            },
                            data: depositData[idx]
                        }
                    ]
                });
            };

            // åˆå§‹æ˜¾ç¤ºç†è´¢åŒ…A
            updateChart(0);

            // Tabåˆ‡æ¢äº‹ä»¶
            document.getElementById('singleAxisTabs').addEventListener('click', e => {
                if (e.target.classList.contains('tab-btn')) {
                    document.querySelectorAll('#singleAxisTabs .tab-btn').forEach(b => b.classList.remove('active'));
                    e.target.classList.add('active');
                    updateChart(parseInt(e.target.dataset.idx));
                }
            });

            return chart;
        }

        // ==================== åˆå§‹åŒ– ====================
        document.addEventListener('DOMContentLoaded', function() {
            renderStats();
            const charts = [renderPeopleChart(), renderAmountChart(), renderDualAxisChart(), renderSingleAxisChart()];

            // å“åº”å¼
            window.addEventListener('resize', () => {
                charts.forEach(c => c.resize());
            });
        });
    </script>
</body>
</html>

